(this.webpackJsonpxvoice=this.webpackJsonpxvoice||[]).push([[0],{253:function(e,t,a){e.exports=a(599)},258:function(e,t,a){},259:function(e,t,a){},260:function(e,t,a){e.exports=a.p+"static/media/logo.ee7cd8ed.svg"},261:function(e,t,a){},519:function(e,t){},599:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),s=a(250),r=a.n(s),o=(a(258),a(259),a(57)),i=a(42),c=a(43),m=a(45),d=a(44),u=a(46),g=a(32),h=(a(260),a(261),a(82),a(527)),p={uri:"1060@dialerprieto.xyz",ws_servers:"wss://dialerprieto.xyz:8089/ws",authorizationUser:"1060",password:"W3lcome77@@"},v=function(e){function t(e){var a;Object(i.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).state={};return a.state={calls:[]},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=new h.UA(p);e.invite("1061",{sessionDescriptionHandlerOptions:{constraints:{audio:!0,video:!1}}}),this.setState({userAgent:e})}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("h1",null,"Qloq"),this.state.calls.map((function(e){return l.a.createElement("p",null,e)})))}}]),t}(n.Component);var E=function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"calendar"},l.a.createElement("div",null,l.a.createElement("h2",null,"18, Sunday"),l.a.createElement("div",{className:"row center-xs"},l.a.createElement("div",{className:"col-xs-auto"},l.a.createElement("h3",null,"November")))),l.a.createElement("div",{className:"calendar__date"},l.a.createElement("div",{className:"calendar__day"},"S"),l.a.createElement("div",{className:"calendar__day"},"M"),l.a.createElement("div",{className:"calendar__day"},"T"),l.a.createElement("div",{className:"calendar__day"},"W"),l.a.createElement("div",{className:"calendar__day"},"T"),l.a.createElement("div",{className:"calendar__day"},"F"),l.a.createElement("div",{className:"calendar__day"},"S"),l.a.createElement("div",{className:"calendar__number"}),l.a.createElement("div",{className:"calendar__number"}),l.a.createElement("div",{className:"calendar__number"}),l.a.createElement("div",{className:"calendar__number"},"1"),l.a.createElement("div",{className:"calendar__number"},"2"),l.a.createElement("div",{className:"calendar__number"},"3"),l.a.createElement("div",{className:"calendar__number"},"4"),l.a.createElement("div",{className:"calendar__number"},"5"),l.a.createElement("div",{className:"calendar__number"},"6"),l.a.createElement("div",{className:"calendar__number"},"7"),l.a.createElement("div",{className:"calendar__number"},"8"),l.a.createElement("div",{className:"calendar__number"},"9"),l.a.createElement("div",{className:"calendar__number"},"10"),l.a.createElement("div",{className:"calendar__number"},"11"),l.a.createElement("div",{className:"calendar__number"},"12"),l.a.createElement("div",{className:"calendar__number"},"13"),l.a.createElement("div",{className:"calendar__number"},"14"),l.a.createElement("div",{className:"calendar__number"},"15"),l.a.createElement("div",{className:"calendar__number"},"16"),l.a.createElement("div",{className:"calendar__number"},"17"),l.a.createElement("div",{className:"calendar__number calendar__number--current"},"18"),l.a.createElement("div",{className:"calendar__number"},"19"),l.a.createElement("div",{className:"calendar__number"},"20"),l.a.createElement("div",{className:"calendar__number"},"21"),l.a.createElement("div",{className:"calendar__number"},"22"),l.a.createElement("div",{className:"calendar__number"},"23"),l.a.createElement("div",{className:"calendar__number"},"24"),l.a.createElement("div",{className:"calendar__number"},"25"),l.a.createElement("div",{className:"calendar__number"},"26"),l.a.createElement("div",{className:"calendar__number"},"27"),l.a.createElement("div",{className:"calendar__number"},"28"),l.a.createElement("div",{className:"calendar__number"},"29"),l.a.createElement("div",{className:"calendar__number"},"30"))))},f=a(576);function b(e){return e.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")}var w,N=function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("tr",null,l.a.createElement("td",null,e.username),l.a.createElement("td",null,e.password),l.a.createElement("td",null,l.a.createElement("a",{onClick:e.userPack.methods.deleteUser,href:"/",style:{position:"relative",bottom:"28px"}},l.a.createElement("img",{style:{width:"30px",height:"30px"},src:"svg/delete.svg",alt:"Kiwi standing on oval",className:"deleteIcon"})),"-")))},_=function(e){var t=!1;return e.selectedUsers.forEach((function(a){a===e.username&&(t=!0)})),l.a.createElement(l.a.Fragment,null,l.a.createElement("a",{href:"#",style:{backgroundColor:t?"rgb(0, 112, 186)":"",color:t?"white":""},onClick:function(t){t.preventDefault(),e.handleSelect(e.username)}},e.username),l.a.createElement("hr",{className:"solid"}))},k=function(e){var t=f(new Date(e.line.startTime),"dd/mm/yy @ hh:mm tt");return l.a.createElement(l.a.Fragment,null,l.a.createElement("tr",null,l.a.createElement("td",null,e.line.src_user),l.a.createElement("td",null,e.line.dst_user),l.a.createElement("td",null,t),l.a.createElement("td",null,e.line.duration),l.a.createElement("td",null,parseFloat(.01*e.line.duration/60).toFixed(7))))},y=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).state={},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e,t,a=this,n=this.props.userPack.dimensions.width<768,s=this.props.userPack.dimensions.isMobile?"15px":"50px";return this.props.userPack.filterNumber&&(this.props.userPack.filterNumber.length>0||this.props.userPack.selectedUsers.length>0)?(t=this.props.userPack.filteredResults,e=this.props.userPack.filteredResults.length):(t=this.props.userPack.history,e=this.props.userPack.amountCalls),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{id:"mainBody",style:{marginLeft:s,marginRight:s,marginTop:"18px",marginBottom:"200px"}},l.a.createElement("div",{className:"row"},l.a.createElement("h1",{className:"mainTitle",style:{marginLeft:"10px",fontSize:"40px"}},"Welcome ",this.props.userPack.customer.name)),l.a.createElement("div",{className:"row",style:{paddingTop:"10px",marginLeft:n?"0.3rem":"0px",marginRight:n?"0.3rem":"0px"}},l.a.createElement("div",{className:"col-xs-12 col-sm-4 caja",style:{maxHeight:"140px",paddingTop:"10px"}},l.a.createElement("div",{className:"row center"},l.a.createElement("h1",{className:"balance"},"US$",this.props.userPack.customer.balance)),l.a.createElement("div",{className:"row center",style:{marginTop:"5px"}},l.a.createElement("div",{className:"col-xs-auto"},l.a.createElement("button",{onClick:this.props.userPack.methods.recargar,style:{marginTop:"8px",width:"150px",position:"relative",bottom:"6px"},className:"pure-material-button-contained green"},"Recargar"))),l.a.createElement("div",{className:"row center",style:{marginTop:"5px"}},l.a.createElement("p",null," (ICQ 742481225)"))),l.a.createElement("div",{className:"col-xs-12 col-sm-7 caja",style:{marginRight:"0px",marginLeft:n?"0.0px":.065*this.props.userPack.dimensions.width+"px",marginTop:n?"25px":"0px",paddingTop:"10px",paddingBottom:"10px"}},l.a.createElement("div",{className:"row center"},l.a.createElement("div",{className:"col-xs-auto"},l.a.createElement("h1",{className:"secondTitle",style:{marginBottom:"5px",fontSize:n?"28px":"30px"}},"Mis dispositivos"),l.a.createElement("button",{onClick:this.props.userPack.methods.addDevice,style:{marginLeft:"35px",width:"100px",position:"relative",bottom:"6px"},className:"pure-material-button-contained"},"Agregar"))),l.a.createElement("div",{className:"row center"},l.a.createElement("table",{id:"customers"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"USUARIO"),l.a.createElement("th",null,"CONTRASE\xd1A"),l.a.createElement("th",null,"IP"))),l.a.createElement("tbody",null,this.props.userPack.loadingComponent?null:l.a.createElement(l.a.Fragment,null,this.props.userPack.customer.subscribers.map((function(e,t){return l.a.createElement(N,{userPack:a.props.userPack,deleteUser:a.deleteUser,key:e.id,username:e.username,password:e.password})}))))),this.props.userPack.loadingComponent?l.a.createElement("div",{className:"row center"},l.a.createElement("div",{className:"col-xs-auto"},l.a.createElement("div",{className:"lds-hourglass"}))):null))),l.a.createElement("div",{className:"row",style:{marginTop:"30px"}},l.a.createElement("div",{className:"col-xs-auto",style:{marginLeft:"10px"}},l.a.createElement("div",{className:"dropdown"},l.a.createElement("button",{className:"dropbtn"},"Usuarios"),l.a.createElement("div",{className:"dropdown-content"},this.props.userPack.customer.subscribers.map((function(e,t){return l.a.createElement(_,{userPack:a.props.userPack,selectedUsers:a.props.userPack.selectedUsers,handleSelect:a.props.userPack.methods.handleSelect,key:e.id,username:e.username,password:e.password})}))))),l.a.createElement("div",{className:"col-xs-auto"},l.a.createElement("div",{className:"dropdown",style:{marginLeft:"15px"}},l.a.createElement("button",{className:"dropbtn"},"Inicio"),l.a.createElement("div",{className:"dropdown-content left"},l.a.createElement(E,null)))),l.a.createElement("div",{className:"col-xs-auto"},l.a.createElement("div",{className:"dropdown",style:{marginLeft:"15px"}},l.a.createElement("button",{className:"dropbtn"},"Final"),l.a.createElement("div",{className:"dropdown-content right"},l.a.createElement(E,null))))),l.a.createElement("div",{className:"row",style:{marginLeft:"8px",marginTop:"16px"}},l.a.createElement("input",{type:"search",value:this.props.userPack.filterNumber,placeholder:"Buscar por n\xfamero",onChange:this.props.userPack.methods.filterNumber})),l.a.createElement("div",{className:"col-xs-12 caja",style:{marginTop:"25px",marginBottom:"80px",overflowX:"visible"}},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-xs-12 col-md-6"},l.a.createElement("h1",{className:"secondTitle",style:{marginTop:"10px",padding:"8px",fontSize:n?"24px":"34px"}},"Historial de llamadas               ")),l.a.createElement("div",{className:"col-xs-12 col-md-6"},this.props.userPack.dimensions.width<1024?l.a.createElement("div",{className:"col-xs-auto"},l.a.createElement("p",{style:{paddingTop:"8px",paddingBottom:"8px"}},"Mostrando ",b(e)," de ",b(this.props.userPack.totalCalls)," llamadas ",l.a.createElement("a",{href:"#",onClick:this.props.userPack.methods.fetchMore},"ver m\xe1s "))):l.a.createElement("div",{className:"col-xs-auto",style:{position:"absolute",right:"70px"}},l.a.createElement("p",{style:{paddingTop:"5px"}},"Mostrando ",b(e)," de ",b(this.props.userPack.totalCalls)," llamadas ",l.a.createElement("a",{href:"#",onClick:this.props.userPack.methods.fetchMore},"ver m\xe1s "))))),l.a.createElement("div",{className:"row center"},l.a.createElement("table",{id:"customers",style:{overflowX:"scroll !important"}},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Desde"),l.a.createElement("th",null,"Hacia"),l.a.createElement("th",null,"Fecha"),l.a.createElement("th",null,"Duraci\xf3n (segundos)"),l.a.createElement("th",null,"Costo (US$)"))),l.a.createElement("tbody",null,this.props.userPack.loadingHistorial?null:t.map((function(e,t){return l.a.createElement(k,{line:e,key:t})})))),this.props.userPack.loadingHistorial?l.a.createElement("div",{className:"row center"},l.a.createElement("div",{className:"col-xs-auto"},l.a.createElement("div",{className:"lds-hourglass"}))):null))))}}]),t}(n.Component),x=a(252),S=(a(2),window.location);w=S.host.includes(":")?S.host.substring(0,S.host.length-5):S.host;var C=S.protocol+"//"+w+":8181/",P=a(582);P.defaults.xsrfCookieName="csrftoken",P.defaults.xsrfHeaderName="X-CSRFToken",P.defaults.withCredentials=!1;var I={id:1,apiUsageHistory:[],recargasHistory:[],usageHistory:Array(2),0:{id:1,method:"INVITE",from_tag:"182c4d3c",to_tag:"as20b73407",callid:"cEkRV392kx6FSq3oqmdIZA..",sip_code:"200",sip_reason:"OK",time:"2020-02-18T02:58:05Z",src_user:"4776200196",src_domain:"3.81.8.219",src_ip:"201.229.162.40",dst_ouser:"15612402968",dst_user:"15612402968",dst_domain:"64.2.142.93",consumer:1},1:{id:2,method:"BYE",from_tag:"182c4d3c",to_tag:"as20b73407",callid:"cEkRV392kx6FSq3oqmdIZA..",sip_code:"200",sip_reason:"OK",time:"2020-02-18T02:58:12Z",src_user:"4776200196",src_domain:"3.81.8.219",src_ip:"201.229.162.40",dst_ouser:"15612402968",dst_user:"15612402968",dst_domain:"66.241.97.51",consumer:1},length:2,__proto__:Array(0),subscribers:[{id:2,username:"4776200196",password:"Pri3to"}],password:"pbkdf2_sha256$180000$ssnEgRIWpT23$zXiLCGZD+tQDLSBkzSfuQog2+fKp5F6KvbGu4s92nnE=",last_login:"2020-02-18T02:43:12.790044Z",is_superuser:!0,username:"prieto",first_name:"",last_name:"",email:"prieto@admin.com",is_staff:!0,is_active:!0,date_joined:"2020-02-18T02:28:36.782698Z",name:null,balance:"-0.001",phoneNumber:null,groups:[],user_permissions:[]},T=function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("li",null,l.a.createElement("a",{className:"navTitle",onClick:function(){e.userPack.handleLogout()},href:"#"},"Logout")))},U=function(e){var t=e.userPack.dimensions.width<800?"26px":"50px",a=e.userPack.dimensions.width<800?"60px":"130px",n=e.userPack.dimensions.width<800?"60px":"130px",s=e.userPack.dimensions.width<800?"18px":"30px",r=e.userPack.dimensions.width<800?"310px":"600px";return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{id:"overlay",onClick:function(e){document.getElementById("overlay").style.display="none"}},l.a.createElement("div",{className:"row"},l.a.createElement("div",{id:"text"},l.a.createElement("h1",{style:{minWidth:r,marginBottom:"8px",fontSize:t}},"Elija su m\xe9todo de pago:"),l.a.createElement("div",{className:"row center"},l.a.createElement("div",{className:"col-xs-auto glowingTarjeta",style:{width:a,height:n,marginRight:"40px"}},l.a.createElement("div",{className:"row center",style:{zIndex:"15",borderWidth:"10px !important",borderColor:"black !important"}},l.a.createElement("img",{src:"https://cdn3.iconfinder.com/data/icons/finance-223/64/x-03-512.png",style:{width:a,height:n}}),l.a.createElement("div",{className:"col-xs-auto",style:{width:a,height:n}},l.a.createElement("div",{id:"text",style:{position:"relative",top:"30px",fontSize:s}},"Dep\xf3sito"))),l.a.createElement("div",{className:"row center"},l.a.createElement("div",{className:"col-xs-auto",style:{width:a,height:n}}))),l.a.createElement("div",{className:"col-xs-auto glowingTarjeta",style:{width:a,height:n,marginRight:"40px"}},l.a.createElement("div",{className:"row center",style:{borderWidth:"10px !important",borderColor:"black !important"}},l.a.createElement("img",{src:"https://r5y5g3p7.rocketcdn.me/wp-content/uploads/2019/07/Bitcoin-dark-web-drug-dealer-caught.jpg",style:{width:a,height:n}}),l.a.createElement("div",{className:"col-xs-auto",style:{width:a,height:n}},l.a.createElement("div",{id:"text",style:{position:"relative",top:"30px",right:"15px",fontSize:s}},"Bitcoin"))),l.a.createElement("div",{className:"row center"},l.a.createElement("div",{className:"col-xs-auto",style:{width:a,height:n}}))),l.a.createElement("div",{className:"col-xs-auto glowingTarjeta",style:{width:a,height:n,marginRight:"20px"}},l.a.createElement("div",{className:"row center",style:{borderWidth:"10px !important",borderColor:"black !important"}},l.a.createElement("img",{src:"/svg/credit-card.svg",style:{width:a,height:n}}),l.a.createElement("div",{className:"col-xs-auto",style:{width:a,height:n}},l.a.createElement("div",{id:"text",style:{position:"relative",top:"30px",fontSize:s}},"Tarjeta"))),l.a.createElement("div",{className:"row center"},l.a.createElement("div",{className:"col-xs-auto",style:{width:a,height:n}}))),l.a.createElement("div",{className:"row center",style:{position:"relative",top:"60px"}},l.a.createElement("h1",{style:{minWidth:r,marginBottom:"8px",fontSize:t}},"Soporte ICQ: 742481225")))))))},j=function(e){var t=l.a.useState(!1),a=Object(g.a)(t,2),n=a[0],s=a[1],r=e.dimensions.width<768;return l.a.createElement(l.a.Fragment,null,l.a.createElement(U,{userPack:e.userPack}),l.a.createElement("header",{className:"header"},r?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:n?"burguer change":"burguer",style:{position:"relative",left:"10px"},onClick:function(e){s((function(e){return!e}))}},l.a.createElement("div",{className:"bar1"}),l.a.createElement("div",{className:"bar2"}),l.a.createElement("div",{className:"bar3"})),l.a.createElement("ul",{className:n?"main-nav":"main-nav closed",id:"navContent"},l.a.createElement(T,{userPack:e.userPack}))):l.a.createElement(l.a.Fragment,null,l.a.createElement("h1",{className:"logo"},l.a.createElement("a",{className:"navTitle",href:"#"},"XVOICE")),l.a.createElement("ul",{className:"main-nav",id:"navContent"},l.a.createElement(T,{userPack:e.userPack})))))},F=function(e){var t=l.a.useState(!1),a=Object(g.a)(t,2),n=a[0],s=a[1],r=window.localStorage.getItem("username"),o=window.localStorage.getItem("password");r||(r=e.userPack.email,o=e.userPack.password);var i=l.a.useState(!0),c=Object(g.a)(i,2),m=c[0],d=c[1],u=l.a.useState(!1),h=Object(g.a)(u,2),p=h[0],v=h[1],E=l.a.useState(""),f=Object(g.a)(E,2),b=f[0],w=f[1],N=l.a.useState(""),_=Object(g.a)(N,2),k=_[0],y=_[1],x=l.a.useState(null),S=Object(g.a)(x,2),C=(S[0],S[1],n?"active":""),P=n?"":"active",I=e.userPack.dimensions.width<522;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"login-container",style:{minHeight:I?e.userPack.dimensions.height+"px":e.userPack.dimensions.height-60+"px",marginTop:I?"0px":"62px",padding:"4rem 4rem 0 4rem",margin:I?"":"30px auto 30px"}},l.a.createElement("div",{className:"form-login"},l.a.createElement("ul",{className:"login-nav"},l.a.createElement("li",{className:"login-nav__item "+P},l.a.createElement("a",{onClick:function(){s(!1)}},"Sign In")),l.a.createElement("li",{className:"login-nav__item "+C},l.a.createElement("a",{onClick:function(){s(!0)}},"Sign Up"))),l.a.createElement("label",{htmlFor:"login-input-user",className:"login__label"},"Email, Username or Phonenumber"),l.a.createElement("input",{id:"login-input-user",value:r,onChange:function(t){e.userPack.handleUpdate("email",t.target.value)},className:"login__input",type:"text"}),l.a.createElement("label",{htmlFor:"login-input-password",className:"login__label"},"Password"),l.a.createElement("input",{id:"login-input-password",value:o,onKeyPress:function(t){"Enter"===t.key&&e.userPack.handleLogin("","",m)},onChange:function(t){e.userPack.handleUpdate("password",t.target.value)},className:"login__input",type:"password"}),n?l.a.createElement(l.a.Fragment,null,l.a.createElement("label",{htmlFor:"login-input-user",className:"login__label"},"Nombre"),l.a.createElement("input",{id:"login-input-user",value:b,onChange:function(e){w(e.target.value)},className:"login__input",type:"text"}),l.a.createElement("label",{htmlFor:"login-input-user",className:"login__label"},"Celular"),l.a.createElement("input",{id:"login-input-user",value:k,onChange:function(e){var t=e.target.value;""===t&&y(t);try{var a=parseInt(t);if(isNaN(a))return}catch(n){return void console.log("error",n)}y(t.replace(/[^\d]+/g,""))},className:"login__input",type:"text"}),l.a.createElement("label",{htmlFor:"login-sign-up",className:"login__label--checkbox"},l.a.createElement("input",{id:"login-sign-up",type:"checkbox",checked:p,onChange:function(){v((function(e){return!e}))},className:"login__input--checkbox"}),"Estoy de acuerdo con las condiciones"),l.a.createElement("button",{className:"login__submit",onClick:function(){e.userPack.handleRegister(r,o,b,k)}},"Registrarme")):l.a.createElement(l.a.Fragment,null,l.a.createElement("label",{htmlFor:"login-sign-up",className:"login__label--checkbox"},l.a.createElement("input",{id:"login-sign-up",type:"checkbox",checked:m,onChange:function(){d((function(e){return!e}))},className:"login__input--checkbox"}),"Mantenme logueado"),l.a.createElement("button",{className:"login__submit",onClick:function(){e.userPack.handleLogin(r,o,m)}},"Entrar"))),l.a.createElement("a",{href:"#",className:"login__forgot"},"Forgot Password?")))},H=function(e){function t(e){var a;Object(i.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).toggleRegistration=function(e){e.target.classList.toggle("change"),document.querySelector("#navContent").classList.toggle("closed")},a.recargar=function(){document.getElementById("overlay").style.display="block",console.log("working")},a.updateDimensions=function(){var e=window,t=document,n=t.documentElement,l=t.getElementsByTagName("body")[0],s=e.innerWidth||n.clientWidth||l.clientWidth,r=e.innerHeight||n.clientHeight||l.clientHeight;if(!(r-a.state.dimensions.height<60&&r-a.state.dimensions.height>0||s-a.state.dimensions.width===0))if(s<763){var o={width:s,height:r,isMobile:!0};a.setState({dimensions:o})}else{var i={width:s,height:r,isMobile:!1};a.setState({dimensions:i})}},a.filterNumber=function(e){var t,n;if(e.target?(t=e.target.value.replace(/\D/g,""),a.setState({filterNumber:t}),n=Object(o.a)(a.state.selectedUsers)):(t=a.state.filterNumber,n=Object(o.a)(e)),t.length>0&&n.push(t),n.length>0){var l=window.localStorage.getItem("token");P.defaults.headers.post.Authorization="JWT "+l,a.setState({loadingHistorial:!0}),console.log("sending",n),P.post(C+"filterNumber/",{numbers:n,id:a.state.customer.id}).then((function(e){var t=e.data;a.setState({filteredResults:t}),a.setState({loadingHistorial:!1})})).catch((function(e){console.log("error",e),a.setState({loadingHistorial:!1})}))}},a.fetchHistory=function(e){var t=window.localStorage.getItem("token");P.defaults.headers.post.Authorization="JWT "+t,a.setState({loadingHistorial:!0}),P.post(C+"getHistory/",{amount:e}).then((function(t){var n,l=t.data.history;n="all"===e?l.length:e;var s=t.data.totalCalls;n>s&&(n=s),a.setState({history:l,totalCalls:s,amountCalls:n,loading:!1}),a.setState({loadingHistorial:!1})})).catch((function(e){console.log("error",e),a.setState({loading:!1,loadingHistorial:!1})}))},a.getUser=function(){var e=window.localStorage.getItem("token");P.defaults.headers.get.Authorization="JWT "+e,a.setState({loading:!0}),a.fetchHistory(15),P.get(C+"getSub/").then((function(e){a.setState({customer:e.data},(function(){a.setState({loading:!1})}))})).catch((function(e){console.log("error",e),a.setState({loading:!1})}))},a.handleSelect=function(e){var t=!1,n=Object(o.a)(a.state.selectedUsers);n.forEach((function(l){if(l===e)return n=n.filter((function(t){return t!=e})),a.setState({selectedUsers:n}),a.filterNumber(n),void(t=!0)})),t||(n.push(e),a.setState({selectedUsers:n}),a.filterNumber(n))},a.deleteUser=function(e){var t=window.localStorage.getItem("token");P.defaults.headers.post.Authorization="JWT "+t,a.setState({loadingComponent:!0}),P.post(C+"deleteSubscriber/",{subscriber:e}).then((function(e){a.setState({customer:e.data}),a.setState({loadingComponent:!1})})).catch((function(e){console.log("error",e),a.setState({loadingComponent:!1})}))},a.filterUser=function(e){var t=Object(o.a)(a.state.selectedUsers);return t.filter((function(t){return t!=e})),t},a.switchLoadingComponent=function(){var e=!a.state.loadingComponent;a.setState({loadingComponent:e})},a.handleUpdate=function(e,t){switch(window.localStorage.removeItem("username"),window.localStorage.removeItem("password"),e){case"email":a.setState({email:t});break;case"password":a.setState({password:t})}},a.handleLogin=function(e,t,n){var l=window.localStorage.getItem("token");P.defaults.headers.get.Authorization="JWT "+l,a.setState({loading:!0});var s=a.state.email,r=a.state.password;n&&(window.localStorage.setItem("username",s),window.localStorage.setItem("password",r)),P.post(C+"token-auth/",{username:s,password:r}).then((function(e){window.localStorage.setItem("token",e.data.token),a.setState({customer:e.data.user});var t=!a.state.logged;a.fetchHistory(),a.setState({logged:t}),a.setState({loading:!1})})).catch((function(e){console.log("error",e),a.setState({loading:!1})}))},a.addDevice=function(){if(!(a.state.customer.subscribers.length>4)){var e=window.localStorage.getItem("token");P.defaults.headers.get.Authorization="JWT "+e,a.setState({loadingComponent:!0}),P.get(C+"addDevice/").then((function(e){a.setState({customer:e.data}),a.setState({loadingComponent:!1})}))}},a.deleteDevice=function(e){var t=window.localStorage.getItem("token");P.defaults.headers.get.Authorization="JWT "+t,a.setState({loadingComponent:!0}),P.post(C+"addDevice",{id:e}).then((function(e){a.setState({customer:e.data}),a.setState({loadingComponent:!1})}))},a.fetchMore=function(e){e.preventDefault(),a.fetchHistory(3*a.state.amountCalls)},a.fetchAll=function(e){e.preventDefault(),a.fetchHistory("all")},a.handleRegister=function(e,t,n,l){var s=window.localStorage.getItem("token");P.defaults.headers.get.Authorization="JWT "+s,a.setState({loading:!0});var r=a.state.email,o=a.state.password;P.post(C+"newCustomer/",{email:r,password:o,name:n,phoneNumber:l}).then((function(e){e.data.id&&a.setState({customer:e.data});var t=!a.state.logged;a.setState({logged:t}),a.setState({loading:!1}),P.post(C+"token-auth/",{username:r,password:o}).then((function(e){window.localStorage.setItem("token",e.data.token)})).catch((function(e){console.log("error",e),a.setState({loading:!1})}))})).catch((function(e){console.log("error",e),a.setState({loading:!1})}))},a.handleLogout=function(){window.localStorage.removeItem("token"),window.localStorage.removeItem("userId"),window.localStorage.removeItem("username"),window.localStorage.removeItem("password"),a.setState({logged:!1})},window.addEventListener("resize",a.updateDimensions);var n,l,s,r=window,c=document,u=c.documentElement,g=c.getElementsByTagName("body")[0],h=r.innerWidth||u.clientWidth||g.clientWidth,p=r.innerHeight||u.clientHeight||g.clientHeight,v=sessionStorage.getItem("superToken");console.log("producto superToken",v),n=h<763,window.localStorage.getItem("token")?(l=!0,s=!0,console.log("true")):(l=!1,s=!1,console.log("false")),"127"===S.host.substring(0,3)&&(l=!0,s=!1);var E=window.localStorage.getItem("username"),f=window.localStorage.getItem("password");return E||(E="",f=""),a.state={selectedUsers:[],filteredResults:[],loadingFiltered:!1,filterNumber:"",history:[],totalCalls:0,amountCalls:0,logged:l,dimensions:{width:h,height:p,isMobile:n},loading:s,loadingHistorial:!1,email:E,password:f,customer:I,loadingComponent:!1},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(){this.updateDimensions()}},{key:"componentDidMount",value:function(){var e=window.localStorage.getItem("token");S.host.includes("127.0.0")&&(e="eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoyLCJ1c2VybmFtZSI6ImNyb3dza0B5YWhvby5jb20iLCJleHAiOjYxNTg1NDM5MTU0LCJlbWFpbCI6ImNyb3dza0B5YWhvby5jb20ifQ.wh3vskd5LrQki-ZRRb6FFe0Y2egXDbhwrQtb0RcUPZk",window.localStorage.setItem("token",e)),e&&this.getUser()}},{key:"componentWillMount",value:function(){window.addEventListener("resize",this.updateDimensions)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateDimensions)}},{key:"render",value:function(){var e={dimensions:this.state.dimensions,customer:this.state.customer,email:this.email,password:this.password,history:this.state.history,totalCalls:this.state.totalCalls,amountCalls:this.state.amountCalls,filteredResults:this.state.filteredResults,loadingFiltered:this.state.loadingFiltered,selectedUsers:this.state.selectedUsers,filterNumber:this.state.filterNumber,loadingHistorial:this.state.loadingHistorial,logged:this.state.logged,handleLogin:this.handleLogin,handleRegister:this.handleRegister,handleUpdate:this.handleUpdate,handleLogout:this.handleLogout,addDevice:this.addDevice,deleteDevice:this.deleteDevice,loadingComponent:this.state.loadingComponent,methods:{handleLogout:this.handleLogout,handleRegister:this.handleRegister,addDevice:this.addDevice,deleteDevice:this.deleteDevice,filterNumber:this.filterNumber,filterUser:this.filterUser,deleteUser:this.deleteUser,fetchHistory:this.fetchHistory,fetchMore:this.fetchMore,fetchAll:this.fetchAll,handleUpdate:this.handleUpdate,recargar:this.recargar,handleSelect:this.handleSelect}};return l.a.createElement(l.a.Fragment,null,this.state.loading?l.a.createElement("div",{className:"row",style:{justifyContent:"center"}},l.a.createElement("div",{className:"lds-hourglass",style:{marginTop:"220px"}})):l.a.createElement(l.a.Fragment,null,this.state.logged?l.a.createElement(l.a.Fragment,null,l.a.createElement(j,{dimensions:this.state.dimensions,userPack:e}),l.a.createElement(x.a,null,l.a.createElement(y,{path:"/",userPack:e}),l.a.createElement(v,{path:"/dialer",userPack:e}))):l.a.createElement(F,{userPack:e})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(H,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[253,1,2]]]);
//# sourceMappingURL=main.987729.chunk.js.map